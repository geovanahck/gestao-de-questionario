<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link type="text/css" th:href="@{/styles/listaAdm.css}" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha512-N/OZl1+hZG8f+RYXmO6nt/iTp+51GkNYjKwHcP/MJQYSI2AXZT0HICWjJ9++vq3r3t+3PLQ8WYtHnKxPYfZFZA=="
        crossorigin="anonymous" />
</head>

<style>
    #quantpag {
        width: 60px;
        border-radius: 8px;
    }

    #fundo {
        background-color: #5c2472;
        border-top-right-radius: 7px;
        border-bottom-right-radius: 7px;
    }

    .botao {
        background-color: #5c2472;
        color: white;
        text-align: center;
        border-radius: 10px;

    }


    .background {
        background-color: #D8D8D9;
        border-radius: 0.375rem;

    }

    table {
        border-collapse: separate;
        width: 100%;
        max-width: 900px;
        margin: 0 auto;
        border-radius: 8px;
        border-style: hidden;
        box-shadow: 0 0 0 3px #5c2472;
        background-color: white;
        padding: 5px;

    }

    input {
        border-radius: 8px;
    }

    #pesquisa {
        border-collapse: separate;
        width: 100%;
        max-width: 900px;
        margin: 0 auto;
        border-radius: 8px;
        border-style: hidden;
        box-shadow: 0 0 0 3px #5c2472;
        background-color: white;
    }

    th,
    td {
        flex: auto;
        padding-top: 2px;
        padding-bottom: 2px;
        text-align: center;
        border: solid #5c2472 3px;
        height: 35px;
    }
</style>

<body class="overflow-scroll px-10">
    <h1 class="flex justify-center items-center py-10 text-3xl">
        Lista de Administradores
    </h1>
    <div class="background justify-center items-center pt-10 flex flex-col ">
        <div class=" w-2/4 justify-center tems-center">
            <form action="/adm/administradores" name="Param" method="POST">
                <div class="pt-10 pb-16 w-full flex justify-center items-center flex flex-col">
                    <div id="pesquisa" class="p-1 relative w-4/5">
                        <div>
                            <input name="Param" type="text" class="p-1 block w-full focus:outline-none"
                                placeholder="Localizar">
                            <button id="fundo" class="absolute inset-y-0 right-0 flex items-center focus:outline-none"
                                type="submit">
                                <svg class="h-3.5 w-10 text-white" xmlns="http://www.w3.org/2000/svg" width="5"
                                    height="5" fill="currentColor" viewBox="0 0 16 16">
                                    <path
                                        d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 
                            1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
                                </svg>
                            </button>

                        </div>
                    </div>
                </div>

                <table>
                    <thead>
                        <tr class="h-12">
                            <th class="w-10"></th>
                            <th
                                th:href="@{'/page/' + ${currentPage} + '?sortField=cracha&sortDir' + ${reverseSortDir}}">
                                Nº
                                Crachá</th>
                            <th th:href="@{'/page/' + ${currentPage} + '?sortField=name&sortDir=' + ${reverseSortDir}}">
                                Nome
                            </th>
                            <th
                                th:href="@{'/page/' + ${currentPage} + '?sortField=telefone&sortDir=' + ${reverseSortDir}}">
                                Telefone</th>
                            <th
                                th:href="@{'/page/' + ${currentPage} + '?sortField=emaile&sortDir=' + ${reverseSortDir}}">
                                Email</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr name="admin" th:each="adm : ${administradores}">
                            <td class="w-10"><input type="radio" name="adminselected" id="adminselected"
                                    th:value="${adm.id}"> </td>
                            <td th:text="${adm.cracha}"></td>
                            <td th:text="${adm.nome}"></td>
                            <td th:text="${adm.telefone}"> </td>
                            <td th:text="${adm.email}"></td>
                        </tr>
                    </tbody>
                </table>
                <form action="/adm/administradores" method="POST">
                    <div class="w-100 flex flex-row justify-between">
                        <div class="flex">
                            <div class="flex items-center pt-4 " method="get">
                                <select id="quantpag" name="size" onchange="this.form.submit()">
                                    <option th:value="10" th:select="${pageSize}" th:selected="${pageSize == 10}">10
                                    </option>
                                    <option th:value="20" th:select="${pageSize}" th:selected="${pageSize == 20}">20
                                    </option>
                                    <option th:value="30" th:select="${pageSize}" th:selected="${pageSize == 30}">30
                                    </option>
                                    <option th:value="40" th:select="${pageSize}" th:selected="${pageSize == 40}">40
                                    </option>
                                </select>
                            </div>
                            <div class="quantidade-administradores flex items-center pt-4 pl-4">
                                <p>Mostrando <span th:text="${quantidadeExibida}"></span> de <span
                                        th:text="${quantidadeTotal}"></span> administradores</p>
                            </div>
                        </div>
                    </div>
                </form>
            </form>
            <div style="text-align: right">
                <div class="inline-flex items-center lg:h-16  py-2">
                    <div class="botao">
                        <button class=" lg:w-32 md:w-26 p-2 focus:outline-none">
                            Excluir
                        </button>
                    </div>
                    <div class="botao mx-2">
                        <button onclick="enviar()" class="lg:w-32 md:w-26 p-2 focus:outline-none">
                            Editar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        function enviar() {
            const radios = document.getElementsByName('adminselected');
            let selecionado;

            for (let i = 0; i < radios.length; i++) {
                if (radios[i].checked) {
                    selecionado = radios[i].value;
                    break;
                }
            }

            console.log(selecionado); // enviar selecionado para o backend
        }
    </script>
</body>